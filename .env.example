# Knowledge Base RAG Configuration
# Copy to .env and customize as needed
# All settings have sensible defaults - you only need to set what you want to change

# ============================================================================= 
# LLM SERVICE
# ============================================================================= 
# Options: "local" (Ollama) or "groq" (Groq cloud - free tier)
LLM_SERVICE=local

# Ollama settings (when LLM_SERVICE=local)
OLLAMA_BASE_URL=http://localhost:11434
LLM_MODEL=llama3.2:3b
OLLAMA_TIMEOUT=120.0

# Groq settings (when LLM_SERVICE=groq)
# Get API key at: https://console.groq.com/ (free tier: 14,400 requests/day)
# GROQ_API_KEY=your-groq-api-key
GROQ_MODEL=llama-3.1-70b-versatile

# ============================================================================= 
# VECTOR DATABASE
# ============================================================================= 
# Options: "local" (Qdrant local) or "qdrant_cloud"
VECTOR_DB=local
COLLECTION_NAME=knowledge_base

# For Qdrant Cloud (free tier: 1GB)
# QDRANT_CLOUD_URL=https://your-cluster.qdrant.io
# QDRANT_CLOUD_API_KEY=your-api-key

# ============================================================================= 
# EMBEDDING MODEL
# ============================================================================= 
EMBED_MODEL=sentence-transformers/all-MiniLM-L6-v2

# ============================================================================= 
# CHUNKING CONFIGURATION (Single Source of Truth)
# ============================================================================= 
# Default strategy: "sentence", "semantic", "small", "large"
# Can be overridden with --strategy flag during indexing
DEFAULT_CHUNKING_STRATEGY=small

# SENTENCE strategy (general text, narratives)
CHUNK_SIZE_SENTENCE=1024
CHUNK_OVERLAP_SENTENCE=128

# SEMANTIC strategy (medium granularity)
CHUNK_SIZE_SEMANTIC=512
CHUNK_OVERLAP_SEMANTIC=50

# SMALL strategy (financial tables, structured data) - RECOMMENDED for this dataset
CHUNK_SIZE_SMALL=256
CHUNK_OVERLAP_SMALL=32

# LARGE strategy (dense context needed)
CHUNK_SIZE_LARGE=2048
CHUNK_OVERLAP_LARGE=256

# ============================================================================= 
# RETRIEVAL SETTINGS
# ============================================================================= 
# Number of chunks to retrieve per query (more = more context, slower)
SIMILARITY_TOP_K=10
# Minimum similarity score (0.0-1.0) to include a chunk
SIMILARITY_CUTOFF=0.7

# ============================================================================= 
# PATHS (usually don't need to change)
# ============================================================================= 
KNOWLEDGE_BASE_DIR=./domaindata
STORAGE_DIR=./storage
QDRANT_PATH=./qdrant_db

# ============================================================================= 
# AWS S3 (only needed for data download script)
# ============================================================================= 
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=eu-central-1
# S3_BUCKET=your-bucket
# S3_DOMAINDATA_KEY=domaindata.zip

# ============================================================================= 
# PROCESSING
# ============================================================================= 
BATCH_SIZE=100
SHOW_PROGRESS=true
